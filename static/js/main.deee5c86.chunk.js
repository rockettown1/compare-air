(this["webpackJsonpcompare-air"]=this["webpackJsonpcompare-air"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/magnifying-glass.8617f4fa.svg"},,function(e,t,n){e.exports=n.p+"static/media/close.ce5bbb85.svg"},,,function(e,t,n){e.exports=n(26)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(5),i=n.n(s),c=(n(19),n(3)),o=n(1),u=n.n(o),l=n(2),h=n(6),d=n(7),p=n(12),m=n(8),g=n(13),f=(n(21),n(22),n(9)),v=n.n(f),w=function(e){var t,n=e.filteredSuggestions,a=e.showSuggestions,s=e.userInput,i=e.handleChange,c=e.handleClick,o=e.onKeyDown;return a&&s&&(t=n.length?r.a.createElement("ul",{className:"suggestions"},n.map((function(e,t){return r.a.createElement("p",{key:t,onClick:c},e)}))):null),r.a.createElement("div",{id:"suggestion-container"},r.a.createElement("div",{id:"styled-input"},r.a.createElement("img",{src:v.a}),r.a.createElement("input",{className:"input",type:"text",placeholder:"Enter city name...",onChange:i,onKeyDown:o,value:s})),t)},E=function(e){return r.a.createElement("div",{className:"welcome"},r.a.createElement("h1",null,"Compare your Air"),r.a.createElement("p",null,"Compare the air quality between cities in the UK."),r.a.createElement("p",null,"Select cities to compare using the search tool below."),r.a.createElement(w,{handleChange:e.handleChange,handleClick:e.handleClick,showSuggestions:e.showSuggestions,filteredSuggestions:e.filteredSuggestions,userInput:e.userInput}))},y=n(10),S=n.n(y),k=(n(24),n(11)),C=n.n(k),b=function(e){var t=e.data,n=e.handleRemove;return r.a.createElement(r.a.Fragment,null,t.length>0&&t.map((function(e,t){return r.a.createElement("div",{key:t,className:"city-card"},r.a.createElement("div",{id:"close",onClick:function(){return n(t)}},r.a.createElement("img",{id:"close-icon",src:C.a})),r.a.createElement("div",{id:"wrapper"},r.a.createElement("p",{id:"date"},"Updated ",function(e){return S()(e).fromNow()}(e.measurements[0].lastUpdated)),r.a.createElement("h3",{id:"location"},e.location),r.a.createElement("p",{id:"city"},"in ",e.city,", United Kingdom"),r.a.createElement("div",{id:"values-container"},r.a.createElement("p",null,"Values: "),e.measurements.map((function(e,t){return r.a.createElement("div",{key:t,id:"value"},r.a.createElement("p",null,e.parameter,": ",e.value,","))})))))})))},x=(n(25),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],cities:[],filteredSuggestions:[],showSuggestions:!1,userInput:"",search:""},n.handleInputChange=function(e){var t=n.state.cities,a=e.currentTarget.value,r=t.filter((function(e){return e.toLowerCase().slice(0,a.length).indexOf(a.toLowerCase())>-1}));n.setState({userInput:e.currentTarget.value,filteredSuggestions:r,showSuggestions:!0})},n.handleInputClick=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:"",search:t.currentTarget.innerText});case 2:n.handleSubmit();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=Object(l.a)(u.a.mark((function e(){var t,a,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.openaq.org/v1/latest?country=GB&city=".concat(n.state.search),e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,(s=Object(c.a)(n.state.data)).push(r.results[0]),n.setState({data:s});case 10:case"end":return e.stop()}}),e)}))),n.handleRemove=function(e){console.log(e);var t=Object(c.a)(n.state.data);t.splice(e,1),n.setState({data:t})},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.openaq.org/v1/cities?country=GB",e.next=3,fetch("https://api.openaq.org/v1/cities?country=GB");case 3:return t=e.sent,e.next=6,t.json();case 6:for(n=e.sent,a=[],r=0;r<n.results.length;r++)a.push(n.results[r].city);this.setState({cities:a});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{handleChange:this.handleInputChange,handleClick:this.handleInputClick,showSuggestions:this.state.showSuggestions,filteredSuggestions:this.state.filteredSuggestions,userInput:this.state.userInput}),r.a.createElement("div",{className:"card-container"},r.a.createElement(b,{data:e,handleRemove:this.handleRemove})))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[14,1,2]]]);
//# sourceMappingURL=main.deee5c86.chunk.js.map